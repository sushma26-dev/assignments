{"ast":null,"code":"import _slicedToArray from\"E:/amadis/github project/assignments/loginwithreact/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userList=_useState2[0],setItems=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),userName=_useState4[0],setUsername=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),checkReg=_useState8[0],setReg=_useState8[1];//const employees = JSON.parse(localStorage.getItem('userList'));\nuseEffect(function(){var userList=JSON.parse(localStorage.getItem('userList'));console.log(userList);if(userList){setItems(userList);}},[]);var userLoginDetails=JSON.parse(sessionStorage.getItem('loginDetails'));if(userLoginDetails!==null){window.location.href=\"#/dashboard\";return/*#__PURE__*/_jsx(\"div\",{});}else{var checkRegister=function checkRegister(event){console.log(\"userlist in fn  \",userList);console.log(\"username is \",userName);userList.map(function(items,i){console.log(\"jjj\",items);console.log(\"jjj\",items.username);console.log(\"jjj\",items.password);console.log(\"index is \",i);var total={username:userName,password:password,index:i};userName===items.username&&password===items.password?sessionStorage.setItem('loginDetails',JSON.stringify(total)):console.log(\"invalid user\");userName===items.username&&password===items.password&&navigate(\"/dashboard\");});event.preventDefault();};return/*#__PURE__*/_jsx(\"div\",{className:\"loginForm\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputEmail3\",className:\"col-sm-2 col-form-label\",children:\"Username\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"inputEmail3\",placeholder:\"a@gmail.com\",required:true,onChange:function onChange(e){return setUsername(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputPassword3\",className:\"col-sm-2 col-form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"inputPassword3\",required:true,onChange:function onChange(e){return setPassword(e.target.value);}})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:checkRegister,children:\"Sign in\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"signup\",children:[\"Create Account \",/*#__PURE__*/_jsx(\"a\",{href:\"#/register\",children:\"Click Here\"})]})]})});}}export default Login;","map":{"version":3,"sources":["E:/amadis/github project/assignments/loginwithreact/src/auth/Login.js"],"names":["useEffect","useState","useNavigate","Login","navigate","userList","setItems","userName","setUsername","password","setPassword","checkReg","setReg","JSON","parse","localStorage","getItem","console","log","userLoginDetails","sessionStorage","window","location","href","checkRegister","event","map","items","i","username","total","index","setItem","stringify","preventDefault","e","target","value"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Login() {\r\n  const navigate = useNavigate();\r\n  const [userList, setItems] = useState([]);\r\n  const [userName, setUsername] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [checkReg, setReg] = useState([]);\r\n\r\n\r\n  //const employees = JSON.parse(localStorage.getItem('userList'));\r\n  useEffect(() => {\r\n    const userList = JSON.parse(localStorage.getItem('userList'));\r\n    console.log(userList);\r\n    if (userList) {\r\n      setItems(userList);\r\n    }\r\n  }, []);\r\n\r\n  const userLoginDetails = JSON.parse(sessionStorage.getItem('loginDetails'));\r\n  if (userLoginDetails !== null) {\r\n    window.location.href = \"#/dashboard\";\r\n    return (\r\n      <div></div>\r\n    );\r\n  }\r\n  else {\r\n\r\n    function checkRegister(event) {\r\n      console.log(\"userlist in fn  \", userList);\r\n      console.log(\"username is \", userName);\r\n\r\n      userList.map(function (items, i) {\r\n        console.log(\"jjj\", items);\r\n        console.log(\"jjj\", items.username);\r\n        console.log(\"jjj\", items.password);\r\n        console.log(\"index is \", i);\r\n\r\n\r\n        var total = {\r\n          username: userName,\r\n          password: password,\r\n          index: i\r\n        };\r\n\r\n\r\n        ((userName === items.username) && (password === items.password)) ?\r\n          sessionStorage.setItem('loginDetails', JSON.stringify(total)) : console.log(\"invalid user\");\r\n        ((userName === items.username) && (password === items.password)) &&\r\n          navigate(\"/dashboard\");\r\n      })\r\n\r\n\r\n      event.preventDefault();\r\n    }\r\n\r\n\r\n    return (\r\n      <div className=\"loginForm\">\r\n\r\n\r\n        <form>\r\n          <div className=\"row mb-3\">\r\n            <label htmlFor=\"inputEmail3\" className=\"col-sm-2 col-form-label\">Username</label>\r\n            <div className=\"col-sm-10\">\r\n              <input type=\"text\" className=\"form-control\" id=\"inputEmail3\" placeholder='a@gmail.com' required onChange={e => setUsername(e.target.value)} />\r\n            </div>\r\n          </div>\r\n          <div className=\"row mb-3\">\r\n            <label htmlFor=\"inputPassword3\" className=\"col-sm-2 col-form-label\">Password</label>\r\n            <div className=\"col-sm-10\">\r\n              <input type=\"password\" className=\"form-control\" id=\"inputPassword3\" required onChange={e => setPassword(e.target.value)} />\r\n            </div>\r\n          </div>\r\n          <button type=\"submit\" className=\"btn btn-primary\" onClick={checkRegister}>Sign in</button>\r\n          <p className=\"signup\">Create Account <a href=\"#/register\">Click Here</a></p>\r\n        </form>\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}